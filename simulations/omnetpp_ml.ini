[General]
#network =modelingproject4sdn.simulations.NetSDN_ML
#description = "SDN Network with ML-based Smart Routing"
sim-time-limit = 300s


# Recording
**.vector-recording = true
**.scalar-recording = true

[NetSDN_ML]
network = modelingproject4sdn.simulations.NetSDN_ML
description = "ML-Enhanced SDN Routing"

# SDN Controller ML settings
**.sdn.controller.discoveryInterval = 5s
**.sdn.controller.datasetFile = "sdn_dataset.csv"
**.sdn.controller.enableMLRouting = false  # Start with traditional, switch to true after training
**.sdn.controller.trainingThreshold = 50  # Start ML after 50 samples

# Application settings for regular nodes
**.device*.appType = "App"
**.device*.app.destAddresses = "1 3 4"
**.device*.app.sendIaTime = uniform(2s, 5s)
**.device*.app.packetLength = 2048 bytes

# Node configuration
*.device*.routing.sdnControllerAddress = "sdn.controller"
*.device*.routing.discoveryInterval = 10s
*.device*.routing.sendDiscovery = true

# Queue settings
**.frameCapacity = 100
**.useCutThroughSwitching = false

# Recording settings
**.result-recording-modes = all

[NetSDN_ML_Training]
extends = NetSDN_ML
description = "Training phase - collect data with traditional routing"
sim-time-limit = 200s
**.sdn.controller.enableMLRouting = false
**.device*.app.sendIaTime = uniform(1s, 3s)  # More traffic for training

[NetSDN_ML_Inference]
extends = NetSDN_ML
description = "Inference phase - use trained ML model"
sim-time-limit = 200s
**.sdn.controller.enableMLRouting = true
**.sdn.controller.trainingThreshold = 10  # Use ML immediately
**.device*.app.sendIaTime = uniform(2s, 5s)

[NetSDN_ML_HighLoad]
extends = NetSDN_ML_Inference
description = "High load scenario with ML routing"
**.device*.app.sendIaTime = uniform(0.5s, 1.5s)
**.device*.app.destAddresses = "1 2 3 4 5"

[NetSDN_ML_Comparison]
extends = NetSDN_ML
description = "Compare traditional vs ML routing"
repeat = 5
**.sdn.controller.enableMLRouting = ${mlEnabled=false,true}
**.sdn.controller.trainingThreshold = ${threshold=30,50,100}